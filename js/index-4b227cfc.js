var de=Object.defineProperty;var _e=(t,e,n)=>e in t?de(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var O=(t,e,n)=>(_e(t,typeof e!="symbol"?e+"":e,n),n);import{d as y,o as m,c as w,w as i,u as p,r as X,_ as pe,a as l,z as me,b as q,M as ge,m as A,e as fe,f as Z,g as v,h as ee,i as x,j as g,F as ve,k as $,I as te,l as he,n as ye,C as be,B as T,p as we,q as ne,s as ke,t as oe,v as I,x as z,y as ae,A as xe,D as Le,S as $e,E as Me,G as V,H as j,J as Ie,K as Ce,L as se,N as Se,O as C,P as Pe,Q as Ee,R as Oe,T as Re,U as Ae,V as Ne,W as Te,X as re,Y as ze,Z as Ve,$ as je,a0 as ce,a1 as Ue,a2 as B,a3 as R,a4 as De,a5 as qe,a6 as Be,a7 as We,a8 as He,a9 as W,aa as Ke,ab as Fe,ac as Je}from"./vendor-219e36f4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const Ye=y({__name:"App",setup(t){return(e,n)=>{const a=X("router-view"),o=pe;return m(),w(o,{locale:p(me)},{default:i(()=>[l(a)]),_:1},8,["locale"])}}}),Ge="modulepreload",Qe=function(t){return"/vue3-quick-start/"+t},H={},K=function(e,n,a){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Qe(s),s in H)return;H[s]=!0;const r=s.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(!!a)for(let f=o.length-1;f>=0;f--){const u=o[f];if(u.href===s&&(!r||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const d=document.createElement("link");if(d.rel=r?"stylesheet":Ge,r||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),r)return new Promise((f,u)=>{d.addEventListener("load",f),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})};function Xe(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("charset","utf-8"),a.setAttribute("src",t),document.body.appendChild(a),a.onload=o=>{console.log(`${t} is loaded`),e(o)},a.onerror=o=>{console.warn(`${t} is load failed`),n(o)}})}const Ze=()=>{console.log("%c APP_VERSION %c vue3-quick-start %c","background:#35495E; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;","background:#e6a23c; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff;","background:transparent"),console.log("%c APP_BUILD_TIME %c 2024-06-01 17:13:16 %c","background:#35495E; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;","background:#409eff; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff;","background:transparent"),console.log("%c APP_VERSION %c 0.1.0 %c","background:#35495E; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;","background:#67c23a; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff;","background:transparent"),console.groupEnd();const t="//cdn.jsdelivr.net/npm/eruda";/debug=true/.test(window.location.href)&&Xe(t).then(()=>{eruda.init()})};class et{constructor(e){O(this,"instance");O(this,"abortControllerMap");this.instance=q.create(e),this.abortControllerMap=new Map,this.setInterceptors(this.instance)}request(e){return this.instance(e)}handleResponse(e){const{userLogout:n}=S(),a=e.config.url||"";if(this.abortControllerMap.delete(a),q.isCancel(e))return console.log("Request canceled",e),Promise.reject(e);if(e.status===200){const{showError:o=!0}=e.config,{code:s}=e.data;if(s===200)return Promise.resolve(e.data);if(s===401)ge.confirm({title:"确认",content:"登录已过期，请重新登录~",onOk(){return n(),Promise.reject(e.data)}});else return o&&A.warning(e.data.message||"服务繁忙，请重试~"),Promise.reject(e.data)}else{const{showError:o=!0}=e.config;o&&A.warning(e.message||e.data.message||e.response.statusText||"服务繁忙，请重试~")}return Promise.reject(e)}setInterceptors(e){e.interceptors.request.use(n=>{const{token:a}=S(),o=n.url||"",s=new AbortController;return n.signal=s.signal,this.abortControllerMap.set(o,s),n&&n.headers&&a&&n.headers.set("Authorization",`Bearer ${a}`),n}),e.interceptors.response.use(n=>this.handleResponse(n),n=>this.handleResponse(n))}cancelAllRequest(){for(const[,e]of this.abortControllerMap)e.abort();this.abortControllerMap.clear()}cancelRequest(e){var a;const n=Array.isArray(e)?e:[e];for(const o of n)(a=this.abortControllerMap.get(o))==null||a.abort(),this.abortControllerMap.delete(o)}}const tt=new et({baseURL:"https://cloud-app.com.cn/"}),nt=t=>tt.request(t),ot=t=>nt({url:"/v1/login",method:"post",data:t}),S=fe("userStore",()=>{const t=Z(),e=v(""),n=v({username:""}),a=()=>{e.value=""},o=()=>{n.value={username:""}},s=async u=>{const{data:b}=await ot(u);c(b.token),_({...b}),await t.push({path:"/"}),A.success("登录成功～")},r=async()=>{console.log("userLogout ---> clearToken"),localStorage.clear(),a(),o(),await t.push({path:"/login"})},c=u=>{localStorage.setItem("token",u),e.value=u},_=u=>{localStorage.setItem("userInfo",JSON.stringify(u)),n.value=u},d=()=>{const u=localStorage.getItem("token");u&&(e.value=u)},f=()=>{try{const u=localStorage.getItem("userInfo");u&&(n.value=JSON.parse(u))}catch{n.value={username:""}}};return d(),f(),{token:e,userInfo:n,userLogout:r,userLogin:s}}),at={class:"page login-page"},st={class:"page-inner"},rt=y({name:"LoginView",__name:"index",setup(t){const e=S(),n=v(!1),a=ee({username:"",password:"",remember:!0}),o=async r=>{try{n.value=!0,await e.userLogin({...r}),n.value=!1}catch(c){console.log(c)}},s=r=>{console.log("Failed:",r)};return(r,c)=>{const _=te,d=he,f=ye,u=be,b=T,M=ve;return m(),x("div",at,[g("div",st,[l(M,{model:a,name:"basic","wrapper-col":{span:24},autocomplete:"off",onFinish:o,onFinishFailed:s},{default:i(()=>[l(d,{label:"",name:"username",rules:[{required:!0,message:"Please input your username!"}]},{default:i(()=>[l(_,{value:a.username,"onUpdate:value":c[0]||(c[0]=h=>a.username=h),placeholder:"username"},null,8,["value"])]),_:1}),l(d,{label:"",name:"password",rules:[{required:!0,message:"Please input your password!"}]},{default:i(()=>[l(f,{value:a.password,"onUpdate:value":c[1]||(c[1]=h=>a.password=h),placeholder:"password"},null,8,["value"])]),_:1}),l(d,{name:"remember","wrapper-col":{span:24}},{default:i(()=>[l(u,{checked:a.remember,"onUpdate:checked":c[2]||(c[2]=h=>a.remember=h)},{default:i(()=>[$("Remember me")]),_:1},8,["checked"])]),_:1}),l(d,{"wrapper-col":{span:24}},{default:i(()=>[l(b,{type:"primary","html-type":"submit",loading:p(n),block:""},{default:i(()=>[$("Submit")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}});const L=(t,e)=>{const n=t.__vccOpts||t;for(const[a,o]of e)n[a]=o;return n},ct=L(rt,[["__scopeId","data-v-5ea25ba3"]]),le=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),U=t=>(V("data-v-2c235391"),t=t(),j(),t),lt={key:0,style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"}},it=U(()=>g("a",{key:"list-loadmore-edit"},"edit",-1)),ut=U(()=>g("a",{key:"list-loadmore-more"},"more",-1)),dt={href:"https://www.antdv.com/"},_t=U(()=>g("div",null,"content",-1)),F=3,pt=y({name:"MessageView",title:"消息列表",__name:"index",setup(t){const e=`https://randomuser.me/api/?results=${F}&inc=name,gender,email,nat,picture&noinfo`,n=v(!0),a=v(!1),o=v([]),s=v([]);we(()=>{fetch(e).then(c=>c.json()).then(c=>{n.value=!1,o.value=c.results,s.value=c.results})});const r=()=>{a.value=!0,s.value=o.value.concat([...new Array(F)].map(()=>({loading:!0,name:{},picture:{}}))),fetch(e).then(c=>c.json()).then(c=>{const _=o.value.concat(c.results);a.value=!1,o.value=_,s.value=_,ae(()=>{window.dispatchEvent(new Event("resize"))})})};return(c,_)=>{const d=T,f=xe,u=Le,b=$e,M=Me,h=ke,E=oe("loading");return ne((m(),w(h,{class:"message","item-layout":"horizontal","data-source":s.value},{loadMore:i(()=>[!n.value&&!a.value?(m(),x("div",lt,[l(d,{onClick:r},{default:i(()=>[$("loading more")]),_:1})])):I("",!0)]),renderItem:i(({item:k})=>[l(M,null,{actions:i(()=>[it,ut]),default:i(()=>[l(b,{avatar:"",title:!1,loading:!!k.loading,active:""},{default:i(()=>[l(u,{description:"Ant Design, a design language for background applications, is refined by Ant UED Team"},{title:i(()=>[g("a",dt,z(k.name.last),1)]),avatar:i(()=>[l(f,{src:k.picture.large},null,8,["src"])]),_:2},1024),_t]),_:2},1032,["loading"])]),_:2},1024)]),_:1},8,["data-source"])),[[E,n.value]])}}});const mt=L(pt,[["__scopeId","data-v-2c235391"]]),gt=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),ft=()=>{const t=v(!1);return{loading:t,showLoading:()=>{t.value=!0},hideLoading:()=>{t.value=!1}}},vt=(t,e)=>{const n=()=>{var r;const{width:o=0,height:s=0}=((r=t.value)==null?void 0:r.getBoundingClientRect())||{};e({width:Math.ceil(o),height:Math.ceil(s-55)})},a=Ie(t,async o=>{o&&(await ae(()=>{n()}),window.addEventListener("resize",n))},{immediate:!0,deep:!0});Ce(()=>{a(),window.removeEventListener("resize",n)})},ht={class:"page"},yt={class:"page-header"},bt={key:0,class:"page-actions"},wt={key:1,class:"page-pagination"},kt=y({name:"LayoutPage",__name:"LayoutPage",props:{scrollY:{type:Boolean,default:!0},title:{default:""}},setup(t){const e=se(),n=v(),a=v(0);vt(n,({height:s})=>{a.value=s});const o=Se(()=>{var s;return((s=e==null?void 0:e.meta)==null?void 0:s.title)||""});return(s,r)=>(m(),x("div",ht,[g("div",yt,[C(s.$slots,"header",{},()=>[$(z(s.title||p(o)||""),1)])]),s.$slots.actions?(m(),x("div",bt,[C(s.$slots,"actions")])):I("",!0),g("div",{class:Pe(["page-table",{"scroll-y":s.scrollY}]),ref_key:"pageTableRef",ref:n},[C(s.$slots,"default",{height:p(a)})],2),s.$slots.pagination?(m(),x("div",wt,[C(s.$slots,"pagination")])):I("",!0)]))}});const xt=y({name:"WorkView",title:"WorkView",__name:"index",setup(t){const{loading:e,showLoading:n,hideLoading:a}=ft(),o=new Array(100).fill({}).map(_=>({key:_+1,username:"username"+Math.random(),userID:"123456"+Math.random(),gender:"男"+Math.random(),phoneNumber:"13888888888"+Math.random()})),s=[{title:"用户昵称",dataIndex:"username",align:"center"},{title:"用户ID",dataIndex:"userID",align:"center"},{title:"性别",dataIndex:"gender",align:"center"},{title:"手机号码",dataIndex:"phoneNumber",align:"center"}];let r=v({username:""});const c=()=>{e.value?a():n(),setTimeout(()=>{a()},1500)};return c(),(_,d)=>{const f=te,u=T,b=Ee,M=Oe,h=kt,E=oe("loading");return ne((m(),w(h,{class:"work"},{actions:i(()=>[l(f,{value:p(r).username,"onUpdate:value":d[0]||(d[0]=k=>p(r).username=k),placeholder:"请输入用户名",style:{width:"180px"}},null,8,["value"]),l(u,{type:"primary",onClick:c},{default:i(()=>[$("查询")]),_:1})]),default:i(({height:k})=>[l(b,{scroll:{y:k},columns:s,"data-source":p(o),pagination:!1},null,8,["scroll","data-source"])]),pagination:i(()=>[l(M,{total:p(o).length,"show-size-changer":""},null,8,["total"])]),_:1})),[[E,p(e)]])}}});const Lt=L(xt,[["__scopeId","data-v-57c04d68"]]),$t=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"})),ie="/vue3-quick-start/png/logo-867e276b.png",Mt=t=>(V("data-v-3cb153e0"),t=t(),j(),t),It={class:"menu-item__user"},Ct=Mt(()=>g("img",{src:ie,alt:"",class:"user-avatar"},null,-1)),St={class:"user-name"},Pt={class:"user-drop-icon"},Et=y({name:"LayoutMainUser",__name:"LayoutMainUser",setup(t){const e=S(),{userInfo:n}=Re(e),a=async()=>{try{await e.userLogout()}catch(o){console.log(o)}};return(o,s)=>{const r=Te,c=re,_=ze;return m(),w(_,null,{overlay:i(()=>[l(c,null,{default:i(()=>[l(r,{onClick:a},{default:i(()=>[l(p(Ae),{style:{"font-size":"14px","margin-right":"4px"}}),$(" 退出登录 ")]),_:1})]),_:1})]),default:i(()=>[g("div",It,[Ct,g("div",St,z(p(n).username),1),g("div",Pt,[l(p(Ne))])])]),_:1})}}});const Ot=L(Et,[["__scopeId","data-v-3cb153e0"]]),Rt=t=>(V("data-v-78369ab3"),t=t(),j(),t),At={class:"layout-header"},Nt=Rt(()=>g("div",{class:"page-header__logo"},[g("img",{src:ie,alt:""})],-1)),Tt={class:"page-header__menu"},zt=y({name:"LayoutMainHeader",__name:"LayoutMainHeader",emits:["back"],setup(t,{emit:e}){const n=e;return(a,o)=>(m(),x("header",At,[Nt,g("div",Tt,[l(p(Ve),{onClick:o[0]||(o[0]=s=>n("back"))}),l(Ot)])]))}});const Vt=L(zt,[["__scopeId","data-v-78369ab3"]]),J=[{key:"WorkView",label:"工作台"},{key:"MessageView",label:"消息中心"}],jt={class:"layout-menu"},Ut=y({name:"LayoutMainMenu",__name:"LayoutMainMenu",setup(t){const e=se(),n=Z(),a=v([J[0].key]),o=s=>{n.push({name:s.key})};return je(()=>{a.value=[e.name]}),(s,r)=>{const c=re;return m(),x("div",jt,[l(c,{selectedKeys:p(a),"onUpdate:selectedKeys":r[0]||(r[0]=_=>ce(a)?a.value=_:null),mode:"inline",style:{height:"100%",borderRight:0},items:p(J),onClick:o},null,8,["selectedKeys","items"])])}}});const Dt=L(Ut,[["__scopeId","data-v-ace34703"]]),qt=y({name:"LayoutMain",__name:"LayoutMain",setup(t){const{Content:e}=R;return(n,a)=>{const o=X("router-view");return m(),w(p(R),{class:"layout-page"},{default:i(()=>[l(Vt,{onBack:a[0]||(a[0]=s=>n.$router.back())}),l(p(R),{class:"layout-content"},{default:i(()=>[l(Dt),l(p(e),{class:"layout-inner"},{default:i(()=>[l(o,null,{default:i(({Component:s,route:r})=>[(m(),w(Ue,null,[r.meta&&r.meta.keepAlive?(m(),w(B(s),{key:r.fullPath})):I("",!0)],1024)),r.meta&&r.meta.keepAlive?I("",!0):(m(),w(B(s),{key:r.fullPath}))]),_:1})]),_:1})]),_:1})]),_:1})}}});const Bt=L(qt,[["__scopeId","data-v-d329266a"]]),D=[{path:"/",redirect:{path:"/WorkView"},component:Bt,children:[{path:"/:pathMatch(.*)*",component:()=>K(()=>import("./NotFound-3c705740.js"),["js/NotFound-3c705740.js","js/vendor-219e36f4.js","css/NotFound-fdfc72a6.css"])}]},{path:"/login",name:"login",meta:{title:"登录"},component:()=>K(()=>Promise.resolve().then(()=>le),void 0)}],Y=Object.assign({"/src/views/LoginView/index.vue":le,"/src/views/MessageView/index.vue":gt,"/src/views/WorkView/index.vue":$t});for(const t in Y){const e=Y[t].default;if(e&&!e.hidden&&e.name!=="LoginView"){const{name:n,title:a}=e;D[0].children.push({path:n==="WorkView"?"/":`/${n}`,name:n,title:a,component:e,meta:{name:n,title:a}})}}const Wt=De({history:qe("/vue3-quick-start/"),routes:[...D]});console.log(D);function Ht(t,e=!1){const n=t.target,a={...t};delete a.target,delete a.parent;const o=ee({...a}),s=Be(We,{style:{fontSize:"24px"},spin:!0}),r=l(He,{delay:o.delay,indicator:s,size:o.size,spinning:o.spinning,tip:o.tip||"加载中...",wrapperClassName:o.wrapperClassName,style:o.style},{});e?setTimeout(()=>{W(r,document.createElement("div"))},0):W(r,document.createElement("div"));function c(){r!=null&&r.el&&r.el.parentNode&&r.el.parentNode.removeChild(r.el),n==null||n.classList.remove("v-loading-target")}function _(d=document.body){!r||!r.el||(d.appendChild(r.el),d.classList.add("v-loading-target"))}return n&&_(n),{...Ke(o),vm:r,close:c,open:_,get loading(){return o.spinning},get $el(){return r==null?void 0:r.el}}}const N=Symbol("ElLoading"),Kt=t=>typeof t=="string",Ft=t=>toString.call(t)==="[object Object]",Jt=t=>{let e;return Kt(t.target)?e=document.querySelector(t.target)??document.body:e=t.target||document.body,{delay:Number(t.delay||0),indicator:t.indicator||!1,size:t.size||"default",spinning:t.spinning||!1,tip:t.tip||"",wrapperClassName:t.wrapperClassName||"",parent:e===document.body?document.body:e,background:t.background||"",fullscreen:e===document.body&&(t.fullscreen??!0),target:e}},G=(t,e)=>{const n=c=>t.getAttribute(`loading-${c}`),a=n("fullscreen")??e.modifiers.fullscreen,o=Jt({delay:n("delay"),indicator:n("indicator"),size:n("size"),spinning:!!e.value,tip:n("tip"),wrapperClassName:n("wrapperClassName"),background:n("background"),target:n("target")??(a?void 0:t),fullscreen:!!a}),r={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",flexDirection:"column",gap:"12px",backgroundColor:o.background||"rgba(255, 255, 255, 0.55)",opacity:"1",zIndex:"998",top:"0",right:"0",left:"0",bottom:"0",transition:"opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86)"};t[N]={options:o,instance:Ht({...o,style:r})}},Yt=(t,e)=>{for(const n of Object.keys(e)){const a=n;ce(e[a])&&(e[a].value=t[a])}},Gt={mounted(t,e){e.value&&G(t,e)},updated(t,e){const n=t[N];e.oldValue!==e.value&&(e.value&&!e.oldValue?G(t,e):e.value&&e.oldValue?Ft(e.value)&&Yt(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[N])==null||e.instance.close()}},ue=document.createElement("style");ue.innerHTML=`
  .v-loading-target {
    position: relative;
    pointer-events: none;
  }
  .v-loading-target > :not(.ant-spin) {
    pointer-events: none;
    user-select: none;
    opacity: 0.5;
    transition: opacity 0.3s;
  }
  .v-loading-target > .ant-spin {
    opacity: 0;
    transition: opacity 0.3s;
    color: #1677ff
  }
  .v-loading-target > .ant-spin .ant-spin-dot-item {
    background-color: var(--text-important)
  }
`;document.head.appendChild(ue);const Q={loading:Gt},Qt={install:t=>{for(const e in Q)t.directive(e,Q[e])}},Xt={install:t=>{t.use(Qt)}};Ze();const P=Fe(Ye);P.use(Je());P.use(Wt);P.use(Xt);P.mount("#app");export{L as _};
